import Koa from 'koa';import router from './routes';import cors from '@koa/cors';import https from 'https';import fs from 'fs';const app = new Koa();app.proxy = true; // 信任代理头部if (process.env.NODE_ENV === 'production') {  app.use(cors({    origin: 'https://hello-tsai.github.io',    exposeHeaders: ['WWW-Authenticate', 'Server-Authorization'],    maxAge: 5,    credentials: true,    allowMethods: ['GET', 'POST', 'DELETE'],    allowHeaders: ['Content-Type', 'Authorization', 'Accept'],  }));  app.use(async (ctx, next) => {    ctx.set("Access-Control-Allow-Origin", "https://hello-tsai.github.io");    ctx.set("Access-Control-Allow-Headers", "Content-Type, Authorization, Accept");    ctx.set("Access-Control-Allow-Methods", "GET, POST, DELETE");    ctx.set("Access-Control-Allow-Credentials", "true");    await next();  });} else {  app.use(cors());}app.use(router.routes()).use(router.allowedMethods());let PORT =  8083;if (process.env.NODE_ENV === 'production') {  const options = {    key: fs.readFileSync('./server/server.key'),    cert: fs.readFileSync('./server/server.crt')  };  https.createServer(options, app.callback()).listen(PORT, () => {    console.log(`Koa HTTPS server is running on https://localhost:${PORT}`);  });} else {  PORT =  9093;  app.listen(PORT,'0.0.0.0', () => {    console.log(`Server is running on http://localhost:${PORT}`);  });}